$energy-cannon-level-1-length: 20px;
$energy-cannon-level-2-length: 24px;
$energy-cannon-level-3-length: 33px;
$energy-cannon-level-4-length: 70px;

shot[weapon="energy-cannon"] {
  position: absolute;
  background-repeat: no-repeat;
  background-image: url('../images/beams.png');
  will-change: top;
  animation-timing-function: ease-in;
  z-index: 1;

  &[energy="plasma"] {
    &[power-level="1"] {
      background-position: -36px 0;
      width: 21px;
      height: $energy-cannon-level-1-length;
      animation-name: shot-fired-level-1;
    }

    &[power-level="2"] {
      background-position: -38px -25px;
      width: 18px;
      height: $energy-cannon-level-2-length;
      animation-name: shot-fired-level-2;
    }

    &[power-level="3"] {
      background-position: -39px -53px;
      width: 17px;
      height: $energy-cannon-level-3-length;
      animation-name: shot-fired-level-3;
    }

    &[power-level="4"] {
      background-position: -117px -220px;
      width: 41px;
      height: $energy-cannon-level-4-length;
      animation-name: shot-fired-level-4;
    }
  }

  &[energy="photon"] {
    &[power-level="1"] {
      background-position: -35px -114px;
      width: 21px;
      height: $energy-cannon-level-1-length;
      animation-name: shot-fired-level-1;
    }

    &[power-level="2"] {
      background-position: -37px -140px;
      width: 18px;
      height: $energy-cannon-level-2-length;
      animation-name: shot-fired-level-2;
    }

    &[power-level="3"] {
      background-position: -38px -168px;
      width: 17px;
      height: $energy-cannon-level-3-length;
      animation-name: shot-fired-level-3;
    }

    &[power-level="4"] {
      background-position: -203px -300px;
      width: 62px;
      height: $energy-cannon-level-4-length + 41px;
      animation-name: shot-fired-level-4-alt;
    }
  }

  &[fired-by="ai"][energy][power-level] {
    animation-name: shot-fired-at-player;
  }
}

@keyframes shot-fired-level-1 {
  100% { top: -$energy-cannon-level-1-length; }
}

@keyframes shot-fired-level-2 {
  100% { top: -$energy-cannon-level-2-length; }
}

@keyframes shot-fired-level-3 {
  100% { top: -$energy-cannon-level-3-length; }
}

@keyframes shot-fired-level-4 {
  100% { top: -$energy-cannon-level-4-length; }
}

@keyframes shot-fired-level-4-alt {
  100% { top: -$energy-cannon-level-4-length - 41px; }
}

@keyframes shot-fired-at-player {
  0% { top: -50px; }
  100% { top: 101%; }
}
